            
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°ÅŸletme AkÄ±llÄ± Reklam Paneli</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --p: #2563eb; --s: #10b981; --bg: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .card { background: white; width: 100%; max-width: 450px; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { color: #1e293b; text-align: center; margin-top: 0; }
        
        /* DÃ¼zenleyici AlanÄ± */
        .box { background: #f1f5f9; padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #e2e8f0; }
        label { display: block; font-size: 12px; font-weight: bold; color: #64748b; margin-bottom: 5px; text-transform: uppercase; }
        input, textarea { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #cbd5e1; border-radius: 10px; box-sizing: border-box; }
        
        .btn { width: 100%; background: var(--p); color: white; border: none; padding: 16px; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .btn:hover { background: #1d4ed8; }

        /* QR Kod BÃ¶lÃ¼mÃ¼ */
        #qr-container { display: flex; flex-direction: column; align-items: center; margin-top: 20px; padding: 15px; border: 2px dashed #cbd5e1; border-radius: 15px; }
        #qrcode { margin: 15px 0; }

        /* Reklam Sonucu */
        #status { margin: 15px 0; padding: 10px; border-radius: 8px; text-align: center; font-size: 13px; display: none; }
        .result { margin-top: 20px; padding: 20px; border: 2px solid var(--p); border-radius: 15px; background: #eff6ff; display: none; }
    </style>
</head>
<body>

<div class="card">
    <h2>ðŸ“¡ Ä°ÅŸletme Paneli</h2>
    
    <div class="box">
        <label>Reklam BaÅŸlÄ±ÄŸÄ±</label>
        <input type="text" id="titleInp" value="HoÅŸ Geldiniz!">
        <label>Reklam MesajÄ±</label>
        <textarea id="msgInp" rows="2">Bu mesajÄ± gÃ¶rÃ¼yorsanÄ±z %20 indirim kazandÄ±nÄ±z!</textarea>
    </div>

    <button class="btn" onclick="startBT()">ETRAFI TARA & TEST ET</button>
    <div id="status"></div>

    <div id="result" class="result">
        <h3 id="resT" style="margin:0; color:var(--p);"></h3>
        <p id="resM" style="margin:10px 0;"></p>
        <small>BaÄŸlantÄ±: <b id="resD"></b></small>
    </div>
</div>

<div class="card" id="qr-card">
    <h3 style="text-align: center; margin-top: 0;">ðŸ“² MÃ¼ÅŸteri GiriÅŸi</h3>
    <p style="text-align: center; font-size: 13px; color: #64748b;">MÃ¼ÅŸterilerinizin bu sayfaya anÄ±nda ulaÅŸmasÄ± iÃ§in bu QR kodu masalara veya vitrine koyabilirsiniz.</p>
    <div id="qr-container">
        <div id="qrcode"></div>
        <small id="currentUrl" style="word-break: break-all; color: var(--p); font-weight: bold; text-align: center;"></small>
    </div>
</div>

<script>
    // Sayfa aÃ§Ä±ldÄ±ÄŸÄ±nda otomatik QR kod oluÅŸtur
    window.onload = function() {
        const url = window.location.href;
        document.getElementById('currentUrl').textContent = url;
        new QRCode(document.getElementById("qrcode"), {
            text: url,
            width: 180,
            height: 180,
            colorDark : "#1e293b",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });
    };

    async function startBT() {
        const status = document.getElementById('status');
        const result = document.getElementById('result');
        
        try {
            status.style.display = "block";
            status.style.background = "#f1f5f9";
            status.textContent = "Bluetooth taranÄ±yor... LÃ¼tfen bir cihaz seÃ§in.";

            // Filtreleri eski cihazlarÄ± da kapsayacak ÅŸekilde geniÅŸletiyoruz
            const device = await navigator.bluetooth.requestDevice({
                acceptAllDevices: true,
                optionalServices: [0x1800, 0x180a, 'battery_service']
            });

            status.style.background = "#dcfce7";
            status.textContent = "BaÄŸlantÄ± BaÅŸarÄ±lÄ±!";

            document.getElementById('resT').textContent = document.getElementById('titleInp').value;
            document.getElementById('resM').textContent = document.getElementById('msgInp').value;
            document.getElementById('resD').textContent = device.name || "Ä°simsiz Cihaz (" + device.id.slice(-5) + ")";
            
            result.style.display = "block";

        } catch (e) {
            status.style.background = "#fee2e2";
            status.textContent = "Hata: " + e.message;
        }
    }
</script>

</body>
</html>
