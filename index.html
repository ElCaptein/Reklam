<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BT 6.0 Ä°ÅŸletme Reklam Paneli</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --primary: #2563eb; --accent: #7c3aed; --success: #059669; --bg: #f8fafc; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; }
        
        .card { background: white; width: 100%; max-width: 450px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 25px; margin-bottom: 20px; box-sizing: border-box; border: 1px solid #e2e8f0; }
        h2 { margin-top: 0; color: #1e293b; text-align: center; font-size: 1.4rem; }
        
        .input-group { background: #f1f5f9; padding: 15px; border-radius: 16px; margin-bottom: 20px; }
        label { display: block; font-size: 11px; font-weight: 800; color: #64748b; text-transform: uppercase; margin-bottom: 8px; }
        input, textarea { width: 100%; border: 1px solid #cbd5e1; border-radius: 10px; padding: 12px; font-size: 14px; margin-bottom: 10px; box-sizing: border-box; }
        
        .btn { width: 100%; color: white; border: none; padding: 16px; border-radius: 14px; font-weight: bold; cursor: pointer; font-size: 16px; margin-bottom: 10px; transition: 0.2s; }
        .btn-scan { background: linear-gradient(135deg, var(--primary), var(--accent)); box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3); }
        .btn-print { background: #334155; }
        .btn:active { transform: scale(0.97); }

        #status { display: none; padding: 12px; border-radius: 12px; text-align: center; font-size: 13px; margin-bottom: 15px; font-weight: 500; }
        
        .reklam-karti { display: none; border: 2px solid var(--primary); border-radius: 18px; padding: 20px; background: #eff6ff; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { border-color: #2563eb; } 50% { border-color: #7c3aed; } 100% { border-color: #2563eb; } }

        /* YazdÄ±rma Modu */
        @media print {
            .no-print { display: none !important; }
            .card { box-shadow: none; border: 2px solid #000; margin: 0; width: 100%; }
            body { background: white; padding: 0; }
        }

        #qrcode { padding: 15px; background: white; border-radius: 12px; display: inline-block; border: 1px solid #e2e8f0; }
    </style>
</head>
<body>

    <div class="card no-print">
        <h2>ðŸ“¡ Reklam Otomasyonu</h2>
        
        <div class="input-group">
            <label>Kampanya BaÅŸlÄ±ÄŸÄ±</label>
            <input type="text" id="tInp" value="Ã–zel MÃ¼ÅŸteri Ä°ndirimi!">
            <label>Reklam MesajÄ±</label>
            <textarea id="mInp" rows="2">BaÄŸlantÄ±nÄ±z doÄŸrulandÄ±! Kasada bu ekranÄ± gÃ¶sterin ve %20 indirimi kapÄ±n.</textarea>
        </div>

        <button class="btn btn-scan" onclick="siraliYayinla()">TARAMAYI BAÅžLAT & YAYINLA</button>
        <button class="btn btn-print" onclick="window.print()">QR KODU YAZDIR (Ã‡IKTI AL)</button>
        
        <div id="status"></div>

        <div id="reklamSonuc" class="reklam-karti">
            <h3 id="resT" style="margin:0; color:var(--primary);"></h3>
            <p id="resM" style="margin:10px 0; font-size:15px; line-height:1.4;"></p>
            <div style="font-size: 11px; color: #64748b; border-top: 1px solid #dbeafe; padding-top: 10px;">
                Aktif YayÄ±n: <b id="resD" style="color:var(--success);"></b>
            </div>
        </div>
    </div>

    <div class="card">
        <h2 style="margin-bottom:10px;">BURADAN BAÅžLAYIN</h2>
        <p style="text-align:center; font-size:14px; color:#475569;">Ãœcretsiz hediyeler ve indirimleri gÃ¶rmek iÃ§in QR kodu taratÄ±n.</p>
        <div style="text-align:center; margin: 20px 0;">
            <div id="qrcode"></div>
        </div>
        <p style="text-align:center; font-size:10px; color:#94a3b8; font-family: monospace;" id="urlText"></p>
    </div>

<script>
    // QR OluÅŸturma
    window.onload = function() {
        const currentUrl = window.location.href;
        document.getElementById('urlText').textContent = currentUrl;
        new QRCode(document.getElementById("qrcode"), {
            text: currentUrl,
            width: 200,
            height: 200,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });
    };

    // Bluetooth YayÄ±n Fonksiyonu
    async function siraliYayinla() {
        const s = document.getElementById('status');
        const rBox = document.getElementById('reklamSonuc');
        
        s.style.display = "block";
        s.style.background = "#f1f5f9";
        s.style.color = "#475569";
        s.textContent = "Ã‡evredeki cihazlar taranÄ±yor...";

        try {
            // Cihaz seÃ§imi (KullanÄ±cÄ± etkileÅŸimi ÅŸarttÄ±r)
            const device = await navigator.bluetooth.requestDevice({
                acceptAllDevices: true,
                optionalServices: ['generic_access']
            });

            // ArayÃ¼zÃ¼ gÃ¼ncelle
            document.getElementById('resT').textContent = document.getElementById('tInp').value;
            document.getElementById('resM').textContent = document.getElementById('mInp').value;
            document.getElementById('resD').textContent = device.name || "MÃ¼ÅŸteri CihazÄ± (ID: " + device.id.slice(-4) + ")";
            
            rBox.style.display = "block";
            s.style.background = "#dcfce7";
            s.style.color = "#166534";
            s.textContent = "Reklam BaÅŸarÄ±yla YayÄ±nlandÄ±!";

            // Geri bildirim titreÅŸimi
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);

        } catch (err) {
            s.style.background = "#fee2e2";
            s.style.color = "#991b1b";
            s.textContent = "Hata: " + err.message;
        }
    }
</script>

</body>
</html>
